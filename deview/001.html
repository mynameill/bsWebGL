<!DOCTYPE html>
<html>
<head>
	<title>001_디텍팅_심화</title>
	<meta name="keywords" content="redcamel, webgl, bsjs, bsWebGL" />
	<meta name="description" content="redcamel, webgl, bsjs, bsWebGL" />
	<meta charset="utf-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<!--<meta name="viewport"-->
	      <!--content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=0.5,target-densitydpi=medium-dpi" />-->
	<link rel="shortcut icon" href="http://redcamel.github.io/red/red/favicon/favicon.ico" type="image/x-icon">
	<style>body {
		margin: 0;
		padding: 0;
		font-size: 11px
	}</style>
	<script src="http://projectbs.github.io/bsJS/bsjs.0.5.js"></script>
</head>
<body>

<script>
	bs(function(){

		bs.require(function () {
			bs.GL.init('#glCanvas', '../shaders.js', init)
			function init() {
				var time = 0, ms = Math.sin, mc = Math.cos
				bs.ANI.ani({
					ANI: function () {
						time += 0.02, bs.GL.directionalLight.x = Math.sin(time) == 0 ? 0.01 : ms(time), bs.GL.directionalLight.y = mc(time) == 0 ? 0.01 : mc(time), bs.GL.directionalLight.z = -1
					}
				})
				var skyMap = bs.GL.Material('sky').S('src', ["assets/environ/right.jpg", "assets/environ/left.jpg", "assets/environ/bottom.jpg", "assets/environ/top.jpg", "assets/environ/front.jpg", "assets/environ/back.jpg"])
				bs.GL.S('skybox', bs.GL.SkyBox().S('material', skyMap))
//				bs.GL.backgroundColor('#000000')
				bs.GL.controller.distance=1500

				// src, type, callback
				bs.GL.parserOBJ('frame.obj', 'frame', function () {

					bs.GL.parserOBJ('sofa.obj', 'sofa', function () {
						bs.GL.Mesh('sofa').S('<', bs.GL, 'material',  'assets/sofa.jpg,BL')

					})
					bs.GL.parserOBJ('table1.obj', 'table1', function () {
						bs.GL.Mesh('table1').S('<', bs.GL, 'material',  'assets/table1.jpg,BL')

					})
					bs.GL.parserOBJ('table2.obj', 'table2', function () {
						bs.GL.Mesh('table2').S('<', bs.GL, 'material',  'assets/table2.jpg,BL')

					})
					bs.GL.parserOBJ('table3.obj', 'table3', function () {
						bs.GL.Mesh('table3').S('<', bs.GL, 'material',  'assets/table3.jpg,BL')

					})
					bs.GL.parserOBJ('table4.obj', 'table4', function () {
						bs.GL.Mesh('table4').S('<', bs.GL, 'material',  'assets/table4.jpg,BL')

					})
					bs.GL.parserOBJ('table5.obj', 'table5', function () {
						bs.GL.Mesh('table5').S('<', bs.GL, 'material',  'assets/table5.jpg,BL')

					})
					bs.GL.parserOBJ('tv.obj', 'tv', function () {
						bs.GL.Mesh('tv').S('<', bs.GL, 'material',  'assets/tv.jpg,BL')

					})
					bs.GL.parserOBJ('coutain.obj', 'coutain', function () {
						bs.GL.Mesh('coutain').S('<', bs.GL, 'material',  'assets/coutain.jpg,BL')

					})
					bs.GL.parserOBJ('coutain2.obj', 'coutain2', function () {
						bs.GL.Mesh('coutain2').S('<', bs.GL, 'material',  'assets/coutain.jpg,BL')

					})
					bs.GL.parserOBJ('coutain3.obj', 'coutain3', function () {
						bs.GL.Mesh('coutain3').S('<', bs.GL, 'material',  'assets/coutain3.jpg,BL')

					})
					bs.GL.parserOBJ('coutain_top.obj', 'coutain_top', function () {
						bs.GL.Mesh('coutain_top').S('<', bs.GL, 'material',  'assets/coutain_top.jpg,BL')

					})
					bs.GL.parserOBJ('obj1.obj', 'obj1', function () {
						bs.GL.Mesh('obj1').S('<', bs.GL, 'material',  'assets/obj1.jpg,BL')

					})

					bs.GL.parserOBJ('artwall.obj', 'artwall', function () {
						bs.GL.Mesh('artwall').S('<', bs.GL, 'material',  'assets/artwall.png,BL')
					})
					bs.GL.parserOBJ('artwall2.obj', 'artwall2', function () {
						bs.GL.Mesh('artwall2').S('<', bs.GL, 'material',  'assets/artwall2.jpg,BL')
					})

					bs.GL.parserOBJ('k1.obj', 'k1', function () {
						bs.GL.Mesh('k1').S('<', bs.GL, 'material',  'assets/k1.jpg,BL')
					})

					bs.GL.parserOBJ('bed1_1.obj', 'bed1_1', function () {
						bs.GL.Mesh('bed1_1').S('<', bs.GL, 'material',  'assets/bed1_1.jpg,BL')

					})
					bs.GL.parserOBJ('bed1_2.obj', 'bed1_2', function () {
						bs.GL.Mesh('bed1_2').S('<', bs.GL, 'material',  'assets/bed1_2.jpg,BL')

					})
					bs.GL.parserOBJ('bed1_3.obj', 'bed1_3', function () {
						bs.GL.Mesh('bed1_3').S('<', bs.GL, 'material',  'assets/bed1_3.jpg,BL')

					})
					bs.GL.parserOBJ('bed1_4.obj', 'bed1_4', function () {
						bs.GL.Mesh('bed1_4').S('<', bs.GL, 'material',  'assets/bed1_4.jpg,BL')

					})
					bs.GL.parserOBJ('floor1.obj', 'floor1', function () {
						bs.GL.Mesh('floor1').S('<', bs.GL, 'material',  'assets/floor1.jpg,BL')
					})
					bs.GL.parserOBJ('floor2.obj', 'floor2', function () {
						bs.GL.Mesh('floor2').S('<', bs.GL, 'material',  'assets/floor2.jpg,BL')
					})
					bs.GL.parserOBJ('floor3.obj', 'floor3', function () {
						bs.GL.Mesh('floor3').S('<', bs.GL, 'material',  'assets/floor3.jpg,BL')
					})
					bs.GL.parserOBJ('floor4.obj', 'floor4', function () {
						bs.GL.Mesh('floor4').S('<', bs.GL, 'material',  'assets/floor4.jpg,BL')
					})

					setTimeout(function(){
						bs.GL.parserOBJ('window.obj', 'window', function () {
							bs.GL.Mesh('window').S('<', bs.GL, 'material', '#fff','alpha',0.1)

						})
						bs.GL.parserOBJ('winFrame.obj', 'winFrame', function () {
							bs.GL.Mesh('winFrame').S('<', bs.GL, 'material',  '#fff, L')

						})
						bs.GL.Mesh('frame').S('<', bs.GL, 'material', 'assets/t3.jpg,BL')



					},1000)
				})

			}
		}, '../gl.js')


	})
</script>
</body>
</html>