<!--
컴파일된 쉐이더소스를  VS, FS라함
VS : 한정점정보에 해당하여 여러개의 어트리 뷰트를 당연히 가짐
FS : 레스터화된 픽셀포인트에 작용하며 정점값을 보간할수있다. 프래그먼트의 위치나 다른 프래그먼트의 정보를 알수는 없다.
-->
<!--쉐이더 코드 입력합니다-->
<script id="shader-fs" type="x-shader/x-fragment">
        precision mediump float;
        varying vec4 vColor;
        void main(void) {
            gl_FragColor = vec4(vColor[0], vColor[1], vColor[2], vColor[3]);
        }
</script>
<!--쉐이더 코드 입력합니다-->
<script id="shader-vs" type="x-shader/x-vertex">
        attribute vec3 aVertexPosition;
        uniform vec4 aColor;
        varying vec4 vColor;
        uniform vec3 uPosition;
        uniform vec3 uRotation;
        uniform vec3 uCposition;
        uniform vec3 uCrotation;
        uniform mat4 uPMatrix;

        mat4 cal(vec3 p,vec3 t)
        {
            float s = sin(t[0]);float c = cos(t[0]);mat4 m1 = mat4( 1,0,0,0, 0,c,-s,0, 0,s,c,0, 0,0,0,1);
            s = sin(t[1]);c = cos(t[1]);mat4 m2 = mat4(c,0,s,0, 0,1,0,0, -s,0,c,0, 0,0,0,1);
            s = sin(t[2]);c = cos(t[2]);mat4 m3 = mat4(c,-s,0,0, s,c,0,0, 0,0,1,0, 0,0,0,1);
            return  mat4(1,0,0,0, 0,1,0,0, 0,0,1,0, p[0],p[1],p[2],1)*m1*m2*m3;
        }
        void main(void) {
            vColor =aColor;
            gl_Position =uPMatrix*cal(uCposition,uCrotation)*cal(uPosition,uRotation)*vec4(aVertexPosition, 1.0);
        }
</script>

<!--쉐이더 코드 입력합니다-->
<script id="shader-fs-bitmap" type="x-shader/x-fragment">
        precision mediump float;
          uniform sampler2D uSampler; // 샘플러 상수로 선언하고
        varying vec2 vTextureCoord; // 텍스트 코디네이터 정보..즉 유브이가됨...
        varying vec4 vColor;
        void main(void) {
            //gl_FragColor = vec4(vColor[0], vColor[1], vColor[2], vColor[3]);
            vec4 prev = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t)); // 샘플러에서 받아오고 저장함..
             prev = vec4(prev.rgba * vColor); // 컬러랑 더해줌
             gl_FragColor = prev; // 프레그먼크 컬러내보냄
        }
</script>
<!--쉐이더 코드 입력합니다-->
<script id="shader-vs-bitmap" type="x-shader/x-vertex">
        attribute vec3 aVertexPosition;
       attribute vec2 aTextureCoord;
        varying vec2 vTextureCoord;

        uniform vec4 aColor;
        varying vec4 vColor;
        uniform vec3 uPosition;
        uniform vec3 uRotation;
        uniform vec3 uCposition;
        uniform vec3 uCrotation;
        uniform mat4 uPMatrix;

        mat4 cal(vec3 p,vec3 t)
        {
            float s = sin(t[0]);float c = cos(t[0]);mat4 m1 = mat4( 1,0,0,0, 0,c,-s,0, 0,s,c,0, 0,0,0,1);
            s = sin(t[1]);c = cos(t[1]);mat4 m2 = mat4(c,0,s,0, 0,1,0,0, -s,0,c,0, 0,0,0,1);
            s = sin(t[2]);c = cos(t[2]);mat4 m3 = mat4(c,-s,0,0, s,c,0,0, 0,0,1,0, 0,0,0,1);
            return  mat4(1,0,0,0, 0,1,0,0, 0,0,1,0, p[0],p[1],p[2],1)*m1*m2*m3;
        }
        void main(void) {
            vColor =aColor;
             vTextureCoord = aTextureCoord;
            gl_Position =uPMatrix*cal(uCposition,uCrotation)*cal(uPosition,uRotation)*vec4(aVertexPosition, 1.0);
        }
</script>